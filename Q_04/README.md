# 4번 문제

주어진 프로젝트는 다음의 기능을 구현하고자 생성한 프로젝트이다.

### 1. Player
- 상태 패턴을 사용해 Idle 상태와 Attack 상태를 관리한다.
- Idle상태에서 Q를 누르면 Attack 상태로 진입한다
  - 진입 시 2초 이후 지정된 구형 범위 내에 있는 데미지를 입을 수 있는 적을 탐색해 데미지를 부여하고 Idle상태로 돌아온다
- 상태 머신 : 각 상태들을 관리하는 객체이며, 가장 첫번째로 입력받은 상태를 기본 상태로 설정한다.

### 2. NormalMonster
- 데미지를 입을 수 있는 몬스터

### 3. ShieldeMonster
- 데미지를 입지 않는 몬스터

위 기능들을 구현하고자 할 때
제시된 프로젝트에서 발생하는 `문제들을 모두 서술`하고 올바르게 동작하도록 `소스코드를 개선`하시오.

## 답안
#### Q. 플레이어가 공격하면 NullRefernce 오류 발생
- 원인. 플레이어가 공격할 때 범위에 있는 콜라이더를 다 가져와서 각 콜라이더의 IDamagable을 가져오는 데 없는 오브젝트도 있어서 NullRefernce가 발생
- A. IDamagable을 가지고 있지 않는 콜라이더는 넘기고 다음 콜라이더를 찾게 함

#### Q. 플레이어가 공격 후 Idle 넘어갈때 StackOverFlow 오류 발생
- 원인. 공격 후 Exit 함수로 나가는데 나갈 때 ChangeState를 통해 Idle 변경을 신청하는데 ChangeState 함수에도 처음에 해당 Exit를 실행하므로 돌고 돌게되어서 StackOverFlow 발생
- A. 공격 후 Exit 함수로 나가지말고 바로 ChangeState로 나가게 함. Exit 함수 안에 있는 ChangeState는 삭제